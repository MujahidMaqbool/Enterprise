<div class="row">
    <div class="col-md-12 p-0">
        <div class="float-sm-right sm-button-half">
            <button type="button" class="wellyx-button light-button mb-3" role="navigation" [routerLink]="['/setup/reward-program']">
                Back to Search
            </button>
            <button type="button" class="wellyx-button light-button mb-3" (click)="onResetRewardProgram()" *ngIf="isShowResetButton">
                Reset </button>
            <button class="wellyx-button light-button mb-3" (click)="onPrevious()" [disabled]="!showPrevious">Back</button>
            <button class="wellyx-button action-button mb-3" (click)="onNext()" *ngIf="showContinue">Next</button>
            <button class="wellyx-button action-button mb-3" (click)="onSave()" *ngIf="showSave" [disabled]="isSaveClicked">Save</button>
        </div>
    </div>
</div>



<mat-horizontal-stepper #stepper>
    <ng-template matStepperIcon="edit">
        <mat-icon>edit</mat-icon>
    </ng-template>

    <mat-step #stepper>
        <div class="row">
            <div class="col-md-12 p-0">
                <div class="alert alert-danger" *ngIf="showPercentageValidationClient || showPercentageValidationLead || showPercentageValidationMember">
                    {{messages.Error.Please_Set_The_Minimum_PercentageBetween}}
                </div>
                <div class="alert alert-danger" *ngIf="showExpirayDaysValidation">
                    {{messages.Validation.No_of_Expiray_Days}}
                </div>
                <div class="alert alert-danger" *ngIf="ShowError || showDescriptionValidation">
                    {{messages.Validation.Info_Required}}
                </div>
            </div>
        </div>

        <ng-template matStepLabel>Reward Program</ng-template>
        <form #RewardProgramData="ngForm" novalidate>

            <div class="search-filter-block mb-3 px-0 detail-content">
                <div class="row align-items-center">
                    <div class="col col-md-10">
                        <h2>Active</h2>
                        <p>Toggle on to allow customers to earn and redeem reward points. Toggling off will result in
                            new customers being unable to enroll in this reward program, but does not affect existing
                            customers.
                        </p>
                    </div>
                    <div class="col-4 col-md-2 text-right">
                        <mat-slide-toggle [checked]="rewardProgram.IsActive"
                         [(ngModel)]="rewardProgram.IsActive"
                         (change)="onChangeRewardProgramState($event)"
                         class="wellyx-checked" name="IsActive">
                        </mat-slide-toggle>
                    </div>
                </div>
            </div>
            <div class="search-filter-block mb-3 px-0 pt-0 detail-content">
                <div class="row">
                    <div class="col-md-12">
                      <div class="section-title">
                        <h3>Reward Program Information</h3>
                      </div>
                    </div>
                </div>
                <div class="row align-items-center">
                    <div class="col-xl-9 col-lg-8 col-md-8">
                        <h4>Reward Program Name</h4>
                        <p>This is the unique name of your reward program. This will be displayed on core, widget & app
                            for staff & customers.</p>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-4" [ngClass]="{
                    'has-danger': RewardProgramName.invalid && (RewardProgramName.dirty || RewardProgramName.touched ||ShowError),
                    'has-success': RewardProgramName.valid && (RewardProgramName.dirty || RewardProgramName.touched )
                        }">
                        <input type="text" [(ngModel)]="rewardProgram.RewardProgramName" class="form-control mb-0"
                            #RewardProgramName="ngModel" name="RewardProgramName" maxlength="30" pattern=".*\S+.*"
                            (ngModelChange)="showValidation($event)" required autoFocusDirective />
                    </div>
                    <div class="col-md-12">
                        <div class="border-space"></div>
                    </div>
                </div>
                <div class="row align-items-center">
                    <div class="col-xl-9 col-lg-8 col-md-8">
                        <h4>Customer Enrollment</h4>
                        <p>Select how to enroll customers into the reward program. Automatic enrollment will add all new
                            customers to the default reward program. Customer opt-in will allow customers the option to
                            enroll in the reward program during checkout or when purchasing memberships and manual
                            enrollment will require staff to enroll customers manually.</p>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-4">
                        <div class="select-label">
                            <select name="customerEnrollmentId" class="form-control mb-0"
                                [(ngModel)]="rewardProgram.RewardProgramEnrollmentTypeID"
                                #customerEnrollmentId="ngModel" required>
                                <option *ngFor="let option of customerEnrollmentList"
                                    [value]="option.RewardProgramEnrollmentTypeID">
                                    {{option.RewardProgramEnrollmentTypeName}}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="border-space"></div>
                    </div>
                </div>
                <div class="row align-items-center">
                    <div class="col-xl-9 col-lg-8 col-md-8">
                        <h4>Minimum Points Required to Redeem</h4>
                        <p>These are the number of redeemable points a customer is required to have, in order to use
                            reward
                            points as a payment method. For example, you can require customers to need at least 1000
                            points
                            in order to use points as a payment method in the POS, widget & app.</p>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-4" [ngClass]="{
                    'has-danger': MinimumPointsRequiredtoRedeem.invalid && (MinimumPointsRequiredtoRedeem.dirty || MinimumPointsRequiredtoRedeem.touched),
                    'has-success': MinimumPointsRequiredtoRedeem.valid && (MinimumPointsRequiredtoRedeem.dirty || MinimumPointsRequiredtoRedeem.touched )
                        }">
                        <input type="text" #MinimumPointsRequiredtoRedeem="ngModel" name="MinimumPointsRequiredtoRedeem"
                            [(ngModel)]="rewardProgram.MinimumPointsRequiredtoRedeem" min="0" maxlength="6"
                            numberControl class="form-control mb-0" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');">
                    </div>
                    <div class="col-md-12">
                        <div class="border-space"></div>
                    </div>
                </div>
                <div class="row align-items-center">
                    <div class="col-xl-6 col-lg-5 col-md-12">
                        <h4>Reward Redeem Limit</h4>
                        <p>Limit the number of points eligible per transaction based on the value of the transaction and
                            leave the remaining balance to be collected from other payment methods. Set the percentage
                            (between 0% to 100%) of the total transaction to be paid by reward points; 100% means the
                            full
                            transaction can be paid for by reward points, 0% would mean that reward program cannot be
                            used as
                            a payment method in widget & app.</p>
                    </div>

                    <div class="col-xl-6 col-lg-7 col-md-12 d-md-flex align-items-center mt-lg-0 mt-md-2">
                        <div class="mr-md-3 mb-md-0 mb-3" [ngClass]="{
                            'has-danger': MemberRedeemLimit.invalid
                                          && (MemberRedeemLimit.dirty || MemberRedeemLimit.touched)
                                          || ((!MemberRedeemLimit.value)  || MemberRedeemLimit.value == null || MemberRedeemLimit.value > 100)
                                          && (MemberRedeemLimit.dirty || MemberRedeemLimit.touched) && showPercentageValidationMember,
                            'has-success': (MemberRedeemLimit.value)
                                           && MemberRedeemLimit.valid && (MemberRedeemLimit.dirty || MemberRedeemLimit.touched)
                            }">
                            <div class="input-group reward-input-group md-small-group">
                              <div class="input-group-prepend">
                                <span class="input-group-text">For Member</span>
                              </div>
                              <input type="text" numberControl min="0" max="100" maxlength="6" class="form-control"
                                    [(ngModel)]="rewardProgram.MemberRedeemLimit"
                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event, customerType.Member)" #MemberRedeemLimit="ngModel"
                                    name="MemberRedeemLimit" required>
                              <div class="input-group-append">
                                <span class="input-group-text">%</span>
                              </div>
                            </div>
                        </div>
                        <div class="mr-md-3 mb-md-0 mb-3" [ngClass]="{
                        'has-danger': ClientRedeemLimit.invalid
                                      && (ClientRedeemLimit.dirty || ClientRedeemLimit.touched)
                                      || ((!ClientRedeemLimit.value)  || ClientRedeemLimit.value == null || ClientRedeemLimit.value > 100)
                                      && (ClientRedeemLimit.dirty || ClientRedeemLimit.touched) && showPercentageValidationClient ,
                        'has-success': (ClientRedeemLimit.value)
                                       && ClientRedeemLimit.valid && (ClientRedeemLimit.dirty || ClientRedeemLimit.touched)
                        }">

                        <div class="input-group reward-input-group md-small-group">
                            <div class="input-group-prepend">
                              <span class="input-group-text">For Client</span>
                            </div>
                            <input type="text" numberControl min="0" max="100"
                                     maxlength="6" class="form-control"
                                    [(ngModel)]="rewardProgram.ClientRedeemLimit"
                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event, customerType.Client)" #ClientRedeemLimit="ngModel"
                                    name="ClientRedeemLimit" required>
                            <div class="input-group-append">
                              <span class="input-group-text">%</span>
                            </div>
                          </div>
                        </div>
                        <div [ngClass]="{
                        'has-danger': LeadRedeemLimit.invalid
                                      && (LeadRedeemLimit.dirty || LeadRedeemLimit.touched)
                                      || ((!LeadRedeemLimit.value)  || LeadRedeemLimit.value == null || LeadRedeemLimit.value > 100)
                                      && (LeadRedeemLimit.dirty || LeadRedeemLimit.touched) && showPercentageValidationLead,
                        'has-success': (LeadRedeemLimit.value)
                                       && LeadRedeemLimit.valid && (LeadRedeemLimit.dirty || LeadRedeemLimit.touched)
                        }">

                          <div class="input-group reward-input-group md-small-group">
                              <div class="input-group-prepend">
                                <span class="input-group-text">For Lead</span>
                              </div>
                              <input type="text" numberControl min="0" max="100" maxlength="6"
                                     class="form-control"
                                    [(ngModel)]="rewardProgram.LeadRedeemLimit"
                                    (ngModelChange)="onPercentageChangeOnlyNumbers($event, customerType.Lead)" #LeadRedeemLimit="ngModel"
                                    name="LeadRedeemLimit" required>
                              <div class="input-group-append">
                                <span class="input-group-text">%</span>
                              </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="border-space"></div>
                    </div>
                </div>
                <div class="row align-items-center">
                    <div class="col col-md-9">
                        <h4>Points Expiry</h4>
                        <p>Toggle on to allow reward points to expire after a certain number of days. Toggling off will
                            result in points never expiring.</p>
                    </div>
                    <div class="col-4 col-md-3 text-right">
                        <mat-slide-toggle [checked]="rewardProgram.IsPointsExpiry"
                            [(ngModel)]="rewardProgram.IsPointsExpiry" class="wellyx-checked"
                            (change)="onChangePointsExpiry($event)" name="PointExpiryIsActive">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-12">
                        <div class="border-space"></div>
                    </div>
                </div>

                <div class="ml-md-5">
                    <div class="row align-items-center">
                        <div class="col-lg-8 col-md-6 col-sm-3">
                            <h4 class="mb-md-0">Expiry Days</h4>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-9">
                            <div [ngClass]="{
                            'has-danger': PointsExpiryDuration.invalid
                                          && (PointsExpiryDuration.dirty || PointsExpiryDuration.touched)
                                          || ((!PointsExpiryDuration.value)  || PointsExpiryDuration.value == null || PointsExpiryDuration.value == 0)
                                          && (PointsExpiryDuration.dirty || PointsExpiryDuration.touched) && showExpirayDaysValidation,
                            'has-success': (PointsExpiryDuration.value)
                                           && PointsExpiryDuration.valid && (PointsExpiryDuration.dirty || PointsExpiryDuration.touched)
                            }">
                            <div class="input-group reward-input-group">
                                <input type="text" numberControl min="1" numberControl maxlength="4"
                                        onkeydown="if(event.key==='.'){event.preventDefault();}"
                                        oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                        [disabled]="!rewardProgram.IsPointsExpiry"
                                        [required]="rewardProgram.IsPointsExpiry"
                                        [(ngModel)]="rewardProgram.PointsExpiryDuration" name="PointsExpiryDuration"
                                        (ngModelChange)="onExpirayDayValidation($event)" #PointsExpiryDuration="ngModel"
                                        class="form-control text-center">
                                <div class="input-group-prepend">
                                  <span class="input-group-text">Days</span>
                                </div>
                              </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="border-space"></div>
                        </div>
                    </div>
                </div>
                <div class="row align-items-center">
                    <div class="col col-md-9">
                        <h4>Discounted Membership Benefits</h4>
                        <p>All discounted membership benefits will be added to this reward program, those that are
                            already created or created in the future.
                            The earning criteria defined for classes, services and products in the next step will
                            automatically be applied to discounted membership benefits too. </p>
                    </div>
                    <div class="col-4 col-md-3 text-right">
                        <mat-slide-toggle [checked]="rewardProgram.IsDiscountedMembershipBenefits"
                            [(ngModel)]="rewardProgram.IsDiscountedMembershipBenefits" class="wellyx-checked"
                            name="discountedmembershipbenefit">
                        </mat-slide-toggle>
                    </div>
                </div>
            </div>

            <div class="search-filter-block mb-3 px-0 detail-content">
                <div class="row align-items-center">
                    <div class="col-md-7">
                        <h2>Design Your Reward Program</h2>
                        <p>This is the reward program design which is distinctive to your personalized setup. Write your
                            reward program’s descriptions, rules or any further detail that you would like your
                            customers to
                            know about in regards to their program.
                        </p>
                    </div>
                    <div class="col-md-5 text-right sm-button-full">
                        <button class="wellyx-button light-button" (click)="onResetDescription()">Reset</button>
                        <button class="wellyx-button blue-button" (click)="viewTemplate()">Preview</button>
                    </div>
                    <div class="col-md-12">
                        <div class="border-space"></div>
                    </div>
                </div>

                <div class="row align-items-center mt-2">
                    <div class="col-md-12">
                        <div [ngClass]="{ 'has-danger': showDescriptionValidation }">
                            <div class="content-editor">
                                <h4 class="mb-2">Description</h4>
                                <email-editor [value]="rewardProgram.RewardProgramDetailVM?.Description"
                                    (onEmailBodyChange)="onDescriptionUpdated($event)">
                                </email-editor>
                                <input type="text" name="Description" #Description="ngModel" required
                                    [(ngModel)]="rewardProgram.RewardProgramDetailVM.Description"
                                    style="display: none" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </mat-step>

    <!-- branches -->
    <mat-step #stepper>
        <ng-template matStepLabel>Branches</ng-template>
        <div class="row" *ngIf="showBranchValidation">
            <div class="col-md-12 p-0">
                <div class="alert alert-danger">
                    At least one branch should be added in the reward program to proceed.
                </div>
            </div>
        </div>
        <form #RewardProgramBranches="ngForm" novalidate>
            <div class="section-block mb-3 pb-3">
                <div class="row">
                  <div class="col-md-12"><div class="section-title no-border mb-0"><h3>Branches</h3></div></div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="overflow-auto">
                  <div class="grid-scroll-md cst-scroll-bar">
                    <div class="row align-items-center grid-header">
                        <div class="col">
                            <h5>Branch Name</h5>
                        </div>
                        <div class="col">
                            <h5>City</h5>
                        </div>
                        <div class="col">
                            <h5>Phone</h5>
                        </div>
                        <div class="col">
                            <h5>Email</h5>
                        </div>
                        <div class="col text-center">
                            <h5>Actions</h5>
                        </div>
                    </div>
                    <div class="row align-items-center grid-content" *ngFor="let data of branchList;let i = index">
                        <div class="col">
                            <h5>{{data.BranchName}}</h5>
                        </div>
                        <div class="col">
                            <h5>{{data.CityName}}</h5>
                        </div>
                        <div class="col">
                            <h5>{{data.Phone1}}</h5>
                        </div>
                        <div class="col">
                            <h5>{{data.Email}}</h5>
                        </div>
                        <div class="col text-center">
                            <h5>
                                <mat-slide-toggle class="wellyx-checked small-check" [checked]="data.isBranchSelected" name="BranchAddedTogle"
                                    (change)="onAddedBranches($event,data,i)">
                                    {{data.isBranchSelected ? 'Added' : 'Not Added'}}
                                </mat-slide-toggle>

                            </h5>
                        </div>
                    </div>
                    </div>
                    </div>
                </div>
                </div>
            </div>
        </form>
    </mat-step>

    <!-- reward Purchases -->
    <mat-step>
        <ng-template matStepLabel> Reward Purchases</ng-template>
        <div class="row">
            <div class="col-md-12 p-0">
                <div class="alert alert-danger" *ngIf="showRedemptionValueValidation
                  || showRedemptionPointsValidation
                  || showAmountSpentValidation
                  || showMemberEarnedPointsValidation
                  || showClientEarnedPointsValidation
                  || showLeadEarnedPointsValidation
                  || showBenefittedEarnedPointsValidation
                  || showClassAmountSpentValidation
                  || showclassMemberEarnedValidation
                  || showclassClientEarnedValidation
                  || showclassLeadEarnedValidation
                  || showclassBenefittedEarnedPointsValidation
                  || showServiceAmountSpentValidation
                  || showServiceMemberEarnedValidation
                  || showServiceClientEarnedValidation
                  || showServiceLeadEarnedValidation
                  || showServiceBenefittedEarnedPointsValidation
                  || showProductAmountSpentValidation
                  || showProductMemberEarnedValidation
                  || showProductClientEarnedValidation
                  || showProductLeadEarnedValidation
                  || showProductBenefittedEarnedPointsValidation
                  || showMembershipAmountSpentValidation
                  || showMembershipMemberEarnedValidation
                  || showMembershipClientEarnedValidation
                  || showMembershipLeadEarnedValidation
                  || showMembershipBenefittedEarnedPointsValidation
                  ">
                    {{messages.Validation.Info_Required}}
                </div>
            </div>
        </div>
        <div class="row" *ngIf="redemptionValueValidation">
            <div class="col-md-12 p-0">
                <div class="alert alert-danger">
                        Redemption Value should be greater than 0
                </div>
            </div>
        </div>
        <form #RewardProgramPurchasesForm="ngForm" novalidate>
            <div class="search-filter-block mb-3 px-0 pt-0 detail-content">
                <div class="row align-items-center">
                    <div class="col-md-12">
                      <div class="section-title">
                        <h3>Reward Points Settings</h3>
                      </div>
                    </div>
                    <div class="border-space"></div>
                </div>
                <div class="row align-items-center">
                    <div class="col-xl-4 col-lg-6 col-md-12">
                        <h4>Points Redemption Ratio</h4>
                        <p>Set the value each reward point can be redeemed for. The points and value are added to the
                            customers profile and they can be used as a payment method.</p>
                    </div>
                    <div class="col-xl-4 col-lg-6 col-md-8 row align-items-end pl-lg-0 reward-points-block">
                        <div class="col p-0 mr-0">
                            <h5 class="field-label">Redemption Value</h5>
                            <div [ngClass]="{
                            'has-danger': RedemptionValue.invalid
                                          && (RedemptionValue.dirty || RedemptionValue.touched)
                                          || ((!RedemptionValue.value)  || RedemptionValue.value == 0 || RedemptionValue.value == null )
                                          && (RedemptionValue.dirty || RedemptionValue.touched) || showRedemptionValueValidation,
                            'has-success': (RedemptionValue.value && RedemptionValue.value != 0 )
                                           && RedemptionValue.valid && (RedemptionValue.dirty || RedemptionValue.touched)
                            }">
                            <div class="input-group reward-input-group">
                              <div class="input-group-prepend">
                                <span class="input-group-text no-width">{{currencyFormat}}</span>
                              </div>
                              <input type="text" autocomplete="false"
                                      name="RedemptionValue" #RedemptionValue="ngModel" required numberControl min="0.01" twoDigitDecimaNumber
                                      maxlength="6" class="form-control" [(ngModel)]="rewardProgram.RedemptionValue"
                                      (ngModelChange)="showValidtionRewardPurchasesScreen($event , 1)">
                            </div>
                            </div>
                        </div>
                        <div class="field-equal-sign text-center">=</div>
                        <div class="col p-0" [ngClass]="{
                        'has-danger': RedemptionPoints.invalid
                                      && (RedemptionPoints.dirty || RedemptionPoints.touched)
                                      || ((!RedemptionPoints.value)  || RedemptionPoints.value == null)
                                      && (RedemptionPoints.dirty || RedemptionPoints.touched) && showRedemptionPointsValidation,
                        'has-success': (RedemptionPoints.value)
                                       && RedemptionPoints.valid && (RedemptionPoints.dirty || RedemptionPoints.touched)
                        }">
                            <h5 class="field-label">Reward Points</h5>
                            <input type="text" required numberControl name="RedemptionPoints"
                                #RedemptionPoints="ngModel" min="0" maxlength="6" class="form-control"
                                onkeydown="if(event.key==='.'){event.preventDefault();}"
                                oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                [(ngModel)]="rewardProgram.RedemptionPoints"
                                (ngModelChange)="showValidtionRewardPurchasesScreen($event , 2)">
                        </div>
                    </div>
                </div>
            </div>
            <div class="search-filter-block mb-3 px-0 detail-content">
                <div class="overflow-auto">
                    <div class="grid-scroll-lg cst-scroll-bar">
                        <div class="row align-items-center">
                            <div class="col-4 col-md-4">
                                <h4>Reward All Purchases</h4>
                                <p>Award all purchases of memberships, classes, services and products for a specific value; or,
                                    set
                                    an earned value for each type of purchase separately by configuring the advanced settings.
                                    Entering a value of 0 would exclude the purchase type from the reward program.</p>
                            </div>
                            <div class="col col-md-8 d-flex align-items-end pl-0 reward-points-block">
                                <div class="col p-0 mr-0">
                                    <h5 class="field-label">Amount Spent</h5>
                                    <div [ngClass]="{
                                    'has-danger': AmountSpent.invalid
                                                    && (AmountSpent.dirty || AmountSpent.touched)
                                                    || ((!AmountSpent.value)  || AmountSpent.value == null)
                                                    && (AmountSpent.dirty || AmountSpent.touched) && showAmountSpentValidation,
                                    'has-success': (AmountSpent.value)
                                                    && AmountSpent.valid && (AmountSpent.dirty || AmountSpent.touched)
                                    }">
                                        <div class="input-group reward-input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text no-width">{{currencyFormat}}</span>
                                        </div>
                                        <input type="text" class="form-control"
                                        [required]="!rewardProgram.IsAdvanceSetting" numberControl min="0" maxlength="6"
                                        name="AmountSpent" [disabled]="rewardProgram.IsAdvanceSetting"
                                        [(ngModel)]="rewardProgramEarningRuleFrontEnd.AmountSpent"
                                        #AmountSpent="ngModel" twoDigitDecimaNumber
                                        (ngModelChange)="showValidtionRewardPurchasesScreen($event , 3)">
                                        </div>
                                    </div>
                                </div>
                                <div class="field-equal-sign text-center">=</div>
                                <div class="col p-0" [ngClass]="{
                                'has-danger': MemberEarnedPoints.invalid
                                            && (MemberEarnedPoints.dirty || MemberEarnedPoints.touched)
                                            || ((!MemberEarnedPoints.value)  || MemberEarnedPoints.value == null)
                                            && (MemberEarnedPoints.dirty || MemberEarnedPoints.touched) && showMemberEarnedPointsValidation,
                                'has-success': (MemberEarnedPoints.value)
                                            && MemberEarnedPoints.valid && (MemberEarnedPoints.dirty || MemberEarnedPoints.touched)
                                }">
                                    <h5 class="field-label">Member Earned Points</h5>
                                    <input type="text" class="form-control" [disabled]="rewardProgram.IsAdvanceSetting" #MemberEarnedPoints="ngModel"
                                        min="0" maxlength="6" onkeydown="if(event.key==='.'){event.preventDefault();}"
                                        oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                        [required]="!rewardProgram.IsAdvanceSetting" numberControl
                                        (ngModelChange)="showValidtionRewardPurchasesScreen($event , 4)"
                                        name="MemberEarnedPoints"
                                        [(ngModel)]="rewardProgramEarningRuleFrontEnd.MemberEarnedPoints">
                                </div>
                                <div class="col p-0" [ngClass]="{
                                'has-danger': ClientEarnedPoints.invalid
                                            && (ClientEarnedPoints.dirty || ClientEarnedPoints.touched)
                                            || ((!ClientEarnedPoints.value)  || ClientEarnedPoints.value == null)
                                            && (ClientEarnedPoints.dirty || ClientEarnedPoints.touched) && showClientEarnedPointsValidation,
                                'has-success': (ClientEarnedPoints.value)
                                            && ClientEarnedPoints.valid && (ClientEarnedPoints.dirty || ClientEarnedPoints.touched)
                                }">
                                    <h5 class="field-label">Client Earned Points</h5>
                                    <input type="text" class="form-control" [disabled]="rewardProgram.IsAdvanceSetting"
                                        [required]="!rewardProgram.IsAdvanceSetting"
                                        onkeydown="if(event.key==='.'){event.preventDefault();}"
                                        oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl
                                        (ngModelChange)="showValidtionRewardPurchasesScreen($event , 5)" min="0" maxlength="6"
                                        #ClientEarnedPoints="ngModel" name="ClientEarnedPoints"
                                        [(ngModel)]="rewardProgramEarningRuleFrontEnd.ClientEarnedPoints">
                                </div>
                                <div class="col p-0" [ngClass]="{
                                'has-danger': LeadEarnedPoints.invalid
                                            && (LeadEarnedPoints.dirty || LeadEarnedPoints.touched)
                                            || ((!LeadEarnedPoints.value)  || LeadEarnedPoints.value == null)
                                            && (LeadEarnedPoints.dirty || LeadEarnedPoints.touched) && showLeadEarnedPointsValidation,
                                'has-success': (LeadEarnedPoints.value)
                                            && LeadEarnedPoints.valid && (LeadEarnedPoints.dirty || LeadEarnedPoints.touched)
                                }">
                                    <h5 class="field-label">Lead Earned Points</h5>
                                    <input type="text" class="form-control" [disabled]="rewardProgram.IsAdvanceSetting" min="0" maxlength="6"
                                        #LeadEarnedPoints="ngModel" numberControl
                                        onkeydown="if(event.key==='.'){event.preventDefault();}"
                                        oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                        (ngModelChange)="showValidtionRewardPurchasesScreen($event , 6)"
                                        [required]="!rewardProgram.IsAdvanceSetting" name="LeadEarnedPoints"
                                        [(ngModel)]="rewardProgramEarningRuleFrontEnd.LeadEarnedPoints">
                                </div>
                                <div class="border-verticle"></div>
                                <div class="col p-0" [ngClass]="{
                                'has-danger': BenefittedEarnedPoints.invalid
                                            && (BenefittedEarnedPoints.dirty || BenefittedEarnedPoints.touched)
                                            || ((!BenefittedEarnedPoints.value)  || BenefittedEarnedPoints.value == null)
                                            && (BenefittedEarnedPoints.dirty || BenefittedEarnedPoints.touched) && showBenefittedEarnedPointsValidation,
                                'has-success': (BenefittedEarnedPoints.value)
                                            && BenefittedEarnedPoints.valid && (BenefittedEarnedPoints.dirty || BenefittedEarnedPoints.touched)
                                }">
                                    <h5 class="field-label">Free Benefits Points</h5>
                                    <input type="text" class="form-control" [disabled]="rewardProgram.IsAdvanceSetting" min="0" maxlength="6"
                                        #BenefittedEarnedPoints="ngModel" numberControl
                                        onkeydown="if(event.key==='.'){event.preventDefault();}"
                                        oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                        (ngModelChange)="showValidtionRewardPurchasesScreen($event , 7)"
                                        [required]="!rewardProgram.IsAdvanceSetting" name="BenefittedEarnedPoints"
                                        [(ngModel)]="rewardProgramEarningRuleFrontEnd.BenefittedEarnedPoints">
                                </div>
                                <div class="col p-0 text-right">
                                    <h5 class="field-label">Advanced Settings</h5>
                                    <mat-slide-toggle class="wellyx-checked" [checked]="rewardProgram.IsAdvanceSetting"
                                        [(ngModel)]="rewardProgram.IsAdvanceSetting" class="wellyx-checked"
                                        name="AdvanceSettingIsActive" (change)="onChangeAdvanceSettings($event)">
                                    </mat-slide-toggle>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="border-space"></div>
                            </div>

                        </div>
                        <div *ngIf="rewardProgram.IsAdvanceSetting">
                            <div class="row align-items-center">
                                <div class="col-4 col-md-4">
                                    <div class="checkbox checkbox-success mt-0 ml-lg-3">
                                        <input type="checkbox" name="class" id="class" class="ng-untouched ng-pristine ng-valid"
                                            [(ngModel)]="isClassSelected" (change)="onClassesSelect()">
                                        <label for="class" class="blue-bold-cont"> Classes <span *ngIf="classesExceptionCount?.length"
                                                class="info-text">| Exceptions ({{classesExceptionCount.length}}
                                                Class(es))</span></label>
                                        <p class="short-info ml-4">All classes will be added to this reward program, those that
                                            are
                                            already created or created
                                            in the future. If you wish to add exceptions or update the earned value for specific
                                            classes, please click on Add Exception.
                                        </p>
                                    </div>
                                </div>
                                <div class="col col-md-8 d-flex align-items-end pl-0 reward-points-block">
                                    <div class="col p-0 mr-0">
                                    <div [ngClass]="{
                                        'has-danger': classAmountSpent.invalid
                                                    && (classAmountSpent.dirty || classAmountSpent.touched)
                                                    || ((!classAmountSpent.value)  || classAmountSpent.value == null)
                                                    && (classAmountSpent.dirty || classAmountSpent.touched) && showClassAmountSpentValidation,
                                        'has-success': (classAmountSpent.value)
                                                        && classAmountSpent.valid && (classAmountSpent.dirty || classAmountSpent.touched)
                                        }">
                                        <div class="input-group reward-input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text no-width">{{currencyFormat}}</span>
                                        </div>
                                        <input type="text" name="classAmountSpent" class="form-control" numberControl
                                        min="0" maxlength="6" #classAmountSpent="ngModel" twoDigitDecimaNumber
                                        [required]="rewardProgram.IsAdvanceSetting && isClassSelected"
                                        (ngModelChange)="showValidtionRewardPurchasesScreen($event , 8)"
                                        [(ngModel)]="classEarningRule.AmountSpent" [disabled]="!isClassSelected">
                                        </div>
                                    </div>
                                    </div>
                                    <div class="field-equal-sign text-center">=</div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': classMemberEarnedPoints.invalid
                                            && (classMemberEarnedPoints.dirty || classMemberEarnedPoints.touched)
                                            || ((!classMemberEarnedPoints.value)  || classMemberEarnedPoints.value == null)
                                            && (classMemberEarnedPoints.dirty || classMemberEarnedPoints.touched) && showclassMemberEarnedValidation,
                                'has-success': (classMemberEarnedPoints.value)
                                            && classMemberEarnedPoints.valid && (classMemberEarnedPoints.dirty || classMemberEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="classMemberEarnedPoints" numberControl min="0" maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isClassSelected"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 9)"
                                            #classMemberEarnedPoints="ngModel"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            [(ngModel)]="classEarningRule.MemberEarnedPoints" [disabled]="!isClassSelected">
                                    </div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': classClientEarnedPoints.invalid
                                            && (classClientEarnedPoints.dirty || classClientEarnedPoints.touched)
                                            || ((!classClientEarnedPoints.value)  || classClientEarnedPoints.value == null)
                                            && (classClientEarnedPoints.dirty || classClientEarnedPoints.touched) && showclassClientEarnedValidation,
                                'has-success': (classClientEarnedPoints.value)
                                            && classClientEarnedPoints.valid && (classClientEarnedPoints.dirty || classClientEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="classClientEarnedPoints" min="0" maxlength="6" numberControl
                                            [required]="rewardProgram.IsAdvanceSetting && isClassSelected"
                                            #classClientEarnedPoints="ngModel"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            [(ngModel)]="classEarningRule.ClientEarnedPoints" [disabled]="!isClassSelected"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 10)">
                                    </div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': classLeadEarnedPoints.invalid
                                            && (classLeadEarnedPoints.dirty || classLeadEarnedPoints.touched)
                                            || ((!classLeadEarnedPoints.value)  || classLeadEarnedPoints.value == null)
                                            && (classLeadEarnedPoints.dirty || classLeadEarnedPoints.touched) && showclassLeadEarnedValidation,
                                'has-success': (classLeadEarnedPoints.value)
                                            && classLeadEarnedPoints.valid && (classLeadEarnedPoints.dirty || classLeadEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="classLeadEarnedPoints" min="0" numberControl maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isClassSelected"
                                            #classLeadEarnedPoints="ngModel"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            [(ngModel)]="classEarningRule.LeadEarnedPoints" [disabled]="!isClassSelected"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 11)">
                                    </div>

                                    <div class="border-verticle"></div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': classBenefittedEarnedPoints.invalid
                                            && (classBenefittedEarnedPoints.dirty || classBenefittedEarnedPoints.touched)
                                            || ((!classBenefittedEarnedPoints.value)  || classBenefittedEarnedPoints.value == null)
                                            && (classBenefittedEarnedPoints.dirty || classBenefittedEarnedPoints.touched) && showclassBenefittedEarnedPointsValidation,
                                'has-success': (classBenefittedEarnedPoints.value)
                                            && classBenefittedEarnedPoints.valid && (classBenefittedEarnedPoints.dirty || classBenefittedEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="classBenefittedEarnedPoints" numberControl min="0"
                                            maxlength="6" [required]="rewardProgram.IsAdvanceSetting && isClassSelected"
                                            #classBenefittedEarnedPoints="ngModel"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            [(ngModel)]="classEarningRule.BenefittedEarnedPoints" [disabled]="!isClassSelected"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 12)">
                                    </div>
                                    <div class="col px-0 text-right">
                                        <button class="wellyx-button blue-button font-weight-medium mb-0" (click)="addExceptionDialog(classEarningRule.ItemTypeID)"
                                            [disabled]="!isClassSelected">Add Exception</button>
                                    </div>

                                </div>
                                <div class="col-md-12">
                                    <div class="border-space"></div>
                                </div>
                            </div>
                            <div class="row align-items-center">
                                <div class="col-4 col-md-4">
                                    <div class="checkbox checkbox-success mt-0 ml-lg-3">
                                        <input type="checkbox" name="service" id="service"
                                            class="ng-untouched ng-pristine ng-valid" [(ngModel)]="isServiceSelected"
                                            (change)="onServiceSelect()">
                                        <label for="service" class="blue-bold-cont">Services <span *ngIf="serviceExceptionCount?.length > 0"
                                                class="info-text">| Exceptions ({{serviceExceptionCount.length}}
                                                Service(s))</span></label>
                                        <p class="short-info ml-4">All services will be added to this reward program, those that
                                            are
                                            already created or created in the future. If you wish to add exceptions or update
                                            the earned
                                            value for specific services, please click on Add Exception.
                                        </p>
                                    </div>
                                </div>
                                <div class="col col-md-8 d-flex align-items-end pl-0 reward-points-block">
                                    <div class="col p-0 mr-0" [ngClass]="{
                                        'has-danger': serviceAmountSpent.invalid
                                                    && (serviceAmountSpent.dirty || serviceAmountSpent.touched)
                                                    || ((!serviceAmountSpent.value)  || serviceAmountSpent.value == null)
                                                    && (serviceAmountSpent.dirty || serviceAmountSpent.touched) && showServiceAmountSpentValidation,
                                        'has-success': (serviceAmountSpent.value)
                                                    && serviceAmountSpent.valid && (serviceAmountSpent.dirty || serviceAmountSpent.touched)
                                        }">
                                        <div class="input-group reward-input-group">
                                            <div class="input-group-prepend">
                                            <span class="input-group-text no-width">{{currencyFormat}}</span>
                                            </div>
                                            <input name="serviceAmountSpent" type="text" class="form-control" numberControl
                                                    min="0" maxlength="6"
                                                    [required]="rewardProgram.IsAdvanceSetting && isServiceSelected"
                                                    #serviceAmountSpent="ngModel" twoDigitDecimaNumber
                                                    (ngModelChange)="showValidtionRewardPurchasesScreen($event , 13)"
                                                    [(ngModel)]="serviceEarningRule.AmountSpent"
                                                    [disabled]="!isServiceSelected">
                                        </div>
                                    </div>
                                    <div class="field-equal-sign text-center">=</div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': serviceMemberEarnedPoints.invalid
                                            && (serviceMemberEarnedPoints.dirty || serviceMemberEarnedPoints.touched)
                                            || ((!serviceMemberEarnedPoints.value)  || serviceMemberEarnedPoints.value == null)
                                            && (serviceMemberEarnedPoints.dirty || serviceMemberEarnedPoints.touched) && showServiceMemberEarnedValidation,
                                'has-success': (serviceMemberEarnedPoints.value)
                                            && serviceMemberEarnedPoints.valid && (serviceMemberEarnedPoints.dirty || serviceMemberEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="serviceMemberEarnedPoints" numberControl min="0" maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isServiceSelected"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            #serviceMemberEarnedPoints="ngModel"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 14)"
                                            [(ngModel)]="serviceEarningRule.MemberEarnedPoints" [disabled]="!isServiceSelected">
                                    </div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': serviceClientEarnedPoints.invalid
                                            && (serviceClientEarnedPoints.dirty || serviceClientEarnedPoints.touched)
                                            || ((!serviceClientEarnedPoints.value)  || serviceClientEarnedPoints.value == null)
                                            && (serviceClientEarnedPoints.dirty || serviceClientEarnedPoints.touched) && showServiceClientEarnedValidation,
                                'has-success': (serviceClientEarnedPoints.value)
                                            && serviceClientEarnedPoints.valid && (serviceClientEarnedPoints.dirty || serviceClientEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="serviceClientEarnedPoints" numberControl min="0" maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isServiceSelected"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            [(ngModel)]="serviceEarningRule.ClientEarnedPoints" [disabled]="!isServiceSelected"
                                            #serviceClientEarnedPoints="ngModel"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 15)">
                                    </div>

                                    <div class="col p-0" [ngClass]="{
                                'has-danger': serviceLeadEarnedPoints.invalid
                                            && (serviceLeadEarnedPoints.dirty || serviceLeadEarnedPoints.touched)
                                            || ((!serviceLeadEarnedPoints.value)  || serviceLeadEarnedPoints.value == null)
                                            && (serviceLeadEarnedPoints.dirty || serviceLeadEarnedPoints.touched) && showServiceLeadEarnedValidation,
                                'has-success': (serviceLeadEarnedPoints.value)
                                            && serviceLeadEarnedPoints.valid && (serviceLeadEarnedPoints.dirty || serviceLeadEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="serviceLeadEarnedPoints" numberControl min="0" maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isServiceSelected"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            [(ngModel)]="serviceEarningRule.LeadEarnedPoints" [disabled]="!isServiceSelected"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 16)"
                                            #serviceLeadEarnedPoints="ngModel">
                                    </div>

                                    <div class="border-verticle"></div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': serviceBenefittedEarnedPoints.invalid
                                            && (serviceBenefittedEarnedPoints.dirty || serviceBenefittedEarnedPoints.touched)
                                            || ((!serviceBenefittedEarnedPoints.value)  || serviceBenefittedEarnedPoints.value == null)
                                            && (serviceBenefittedEarnedPoints.dirty || serviceBenefittedEarnedPoints.touched) && showServiceBenefittedEarnedPointsValidation,
                                'has-success': (serviceBenefittedEarnedPoints.value)
                                            && serviceBenefittedEarnedPoints.valid && (serviceBenefittedEarnedPoints.dirty || serviceBenefittedEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="serviceBenefittedEarnedPoints" numberControl min="0"
                                            maxlength="6" [required]="rewardProgram.IsAdvanceSetting && isServiceSelected"
                                            #serviceBenefittedEarnedPoints="ngModel"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            [(ngModel)]="serviceEarningRule.BenefittedEarnedPoints"
                                            [disabled]="!isServiceSelected"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 17)">
                                    </div>
                                    <div class="col px-0 text-right">
                                        <button class="wellyx-button blue-button font-weight-medium mb-0"
                                            (click)="addExceptionDialog(serviceEarningRule.ItemTypeID)"
                                            [disabled]="!isServiceSelected">Add Exception</button>
                                    </div>

                                </div>
                                <div class="col-md-12">
                                    <div class="border-space"></div>
                                </div>

                            </div>
                            <div class="row align-items-center">
                                <div class="col-4 col-md-4">
                                    <div class="checkbox checkbox-success mt-0 ml-lg-3">
                                        <input type="checkbox" name="product" id="product"
                                            class="ng-untouched ng-pristine ng-valid" [(ngModel)]="isProductSelected"
                                            (change)="onProductSelect()">
                                        <label for="product" class="blue-bold-cont">Products <span *ngIf="productExceptionCount?.length > 0"
                                                class="info-text">| Exceptions ({{productExceptionCount.length}} Product(s))
                                            </span></label>
                                        <p class="short-info ml-4">All products will be added to this reward program, those that
                                            are
                                            already created or created in the future. If you wish to add exceptions or update
                                            the earned
                                            value for specific products, please click on Add Exception.
                                        </p>
                                    </div>
                                </div>
                                <div class="col col-md-8 d-flex align-items-end pl-0 reward-points-block">
                                    <div class="col p-0 mr-0" [ngClass]="{
                                        'has-danger': productAmountSpent.invalid
                                                    && (productAmountSpent.dirty || productAmountSpent.touched)
                                                    || ((!productAmountSpent.value)  || productAmountSpent.value == null)
                                                    && (productAmountSpent.dirty || productAmountSpent.touched) && showProductAmountSpentValidation,
                                        'has-success': (productAmountSpent.value)
                                                    && productAmountSpent.valid && (productAmountSpent.dirty || productAmountSpent.touched)
                                        }">
                                        <div class="input-group reward-input-group">
                                            <div class="input-group-prepend">
                                            <span class="input-group-text no-width">{{currencyFormat}}</span>
                                            </div>
                                            <input type="text"
                                            name="productAmountSpent" class="form-control" numberControl min="0"
                                            maxlength="6" twoDigitDecimaNumber
                                            [required]="rewardProgram.IsAdvanceSetting && isProductSelected"
                                            #productAmountSpent="ngModel" [(ngModel)]="productEarningRule.AmountSpent"
                                            [disabled]="!isProductSelected"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 18)">
                                        </div>
                                    </div>
                                    <div class="field-equal-sign text-center">=</div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': productMemberEarnedPoints.invalid
                                            && (productMemberEarnedPoints.dirty || productMemberEarnedPoints.touched)
                                            || ((!productMemberEarnedPoints.value)  || productMemberEarnedPoints.value == null)
                                            && (productMemberEarnedPoints.dirty || productMemberEarnedPoints.touched) && showProductMemberEarnedValidation,
                                'has-success': (productMemberEarnedPoints.value)
                                            && productMemberEarnedPoints.valid && (productMemberEarnedPoints.dirty || productMemberEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="productMemberEarnedPoints" numberControl min="0" maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isProductSelected"
                                            #productMemberEarnedPoints="ngModel"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            [(ngModel)]="productEarningRule.MemberEarnedPoints" [disabled]="!isProductSelected"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 19)">
                                    </div>

                                    <div class="col p-0" [ngClass]="{
                                'has-danger': producClientEarnedPoints.invalid
                                            && (producClientEarnedPoints.dirty || producClientEarnedPoints.touched)
                                            || ((!producClientEarnedPoints.value)  || producClientEarnedPoints.value == null)
                                            && (producClientEarnedPoints.dirty || producClientEarnedPoints.touched) && showProductClientEarnedValidation,
                                'has-success': (producClientEarnedPoints.value)
                                            && producClientEarnedPoints.valid && (producClientEarnedPoints.dirty || producClientEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="producClientEarnedPoints"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            numberControl min="0" maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isProductSelected"
                                            #producClientEarnedPoints="ngModel"
                                            [(ngModel)]="productEarningRule.ClientEarnedPoints" [disabled]="!isProductSelected"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 20)">
                                    </div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': productLeadEarnedPoints.invalid
                                            && (productLeadEarnedPoints.dirty || productLeadEarnedPoints.touched)
                                            || ((!productLeadEarnedPoints.value)  || productLeadEarnedPoints.value == null)
                                            && (productLeadEarnedPoints.dirty || productLeadEarnedPoints.touched) && showProductLeadEarnedValidation,
                                'has-success': (productLeadEarnedPoints.value)
                                            && productLeadEarnedPoints.valid && (productLeadEarnedPoints.dirty || productLeadEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="productLeadEarnedPoints"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            numberControl min="0" maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isProductSelected"
                                            #productLeadEarnedPoints="ngModel"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 21)"
                                            [(ngModel)]="productEarningRule.LeadEarnedPoints" [disabled]="!isProductSelected">
                                    </div>
                                    <div class="border-verticle"></div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': productBenefittedEarnedPoints.invalid
                                            && (productBenefittedEarnedPoints.dirty || productBenefittedEarnedPoints.touched)
                                            || ((!productBenefittedEarnedPoints.value)  || productBenefittedEarnedPoints.value == null)
                                            && (productBenefittedEarnedPoints.dirty || productBenefittedEarnedPoints.touched) && showProductBenefittedEarnedPointsValidation,
                                'has-success': (productBenefittedEarnedPoints.value)
                                            && productBenefittedEarnedPoints.valid && (productBenefittedEarnedPoints.dirty || productBenefittedEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="productBenefittedEarnedPoints"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            numberControl min="0" maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isProductSelected"
                                            #productBenefittedEarnedPoints="ngModel"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 22)"
                                            [(ngModel)]="productEarningRule.BenefittedEarnedPoints"
                                            [disabled]="!isProductSelected">
                                    </div>
                                    <div class="col px-0 text-right">
                                        <button class="wellyx-button blue-button font-weight-medium mb-0"
                                            (click)="addExceptionDialog(productEarningRule.ItemTypeID)"
                                            [disabled]="!isProductSelected">Add Exception</button>
                                    </div>

                                </div>
                                <div class="col-md-12">
                                    <div class="border-space"></div>
                                </div>

                            </div>
                            <div class="row align-items-center">
                                <div class="col-4 col-md-4">
                                    <div class="checkbox checkbox-success mt-0 ml-lg-3">
                                        <input type="checkbox" name="memberships" id="memberships"
                                            [(ngModel)]="isMembershipSelected" (change)="onMembershipSelect()"
                                            class="ng-untouched ng-pristine ng-valid">
                                        <label for="memberships" class="blue-bold-cont">Memberships <span *ngIf="membershipExceptionCount?.length > 0"
                                                class="info-text">| Exceptions ({{membershipExceptionCount.length}}
                                                Membership(s))</span></label>
                                        <p class="short-info ml-4">All memberships will be added to this reward program, those
                                            that are
                                            already created or created in the future. If you wish to add exceptions or update
                                            the earned
                                            value for specific memberships, please click on Add Exception.
                                        </p>
                                    </div>
                                </div>
                                <div class="col col-md-8 d-flex align-items-end pl-0 reward-points-block">
                                    <div class="col p-0 mr-0" [ngClass]="{
                                        'has-danger': membershipAmountSpent.invalid
                                                    && (membershipAmountSpent.dirty || membershipAmountSpent.touched)
                                                    || ((!membershipAmountSpent.value)  || membershipAmountSpent.value == null)
                                                    && (membershipAmountSpent.dirty || membershipAmountSpent.touched) && showMembershipAmountSpentValidation,
                                        'has-success': (membershipAmountSpent.value)
                                                    && membershipAmountSpent.valid && (membershipAmountSpent.dirty || membershipAmountSpent.touched)
                                        }">
                                        <div class="input-group reward-input-group">
                                            <div class="input-group-prepend">
                                            <span class="input-group-text no-width">{{currencyFormat}}</span>
                                            </div>
                                            <input type="text"
                                                    name="membershipAmountSpent" class="form-control" numberControl min="0"
                                                    maxlength="6"
                                                    [required]="rewardProgram.IsAdvanceSetting && isMembershipSelected"
                                                    #membershipAmountSpent="ngModel" twoDigitDecimaNumber
                                                    (ngModelChange)="showValidtionRewardPurchasesScreen($event , 23)"
                                                    [(ngModel)]="membershipEarningRule.AmountSpent"
                                                    [disabled]="!isMembershipSelected">
                                        </div>
                                    </div>
                                    <div class="field-equal-sign text-center">=</div>
                                    <div class="col p-0" [ngClass]="{
                                'has-danger': membershipMemberEarnedPoints.invalid
                                            && (membershipMemberEarnedPoints.dirty || membershipMemberEarnedPoints.touched)
                                            || ((!membershipMemberEarnedPoints.value)  || membershipMemberEarnedPoints.value == null)
                                            && (membershipMemberEarnedPoints.dirty || membershipMemberEarnedPoints.touched) && showMembershipMemberEarnedValidation,
                                'has-success': (membershipMemberEarnedPoints.value)
                                            && membershipMemberEarnedPoints.valid && (membershipMemberEarnedPoints.dirty || membershipMemberEarnedPoints.touched)
                                }">
                                        <input type="text" class="form-control" name="membershipMemberEarnedPoints"
                                            onkeydown="if(event.key==='.'){event.preventDefault();}"
                                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                                            numberControl min="0" maxlength="6"
                                            [required]="rewardProgram.IsAdvanceSetting && isMembershipSelected"
                                            #membershipMemberEarnedPoints="ngModel"
                                            (ngModelChange)="showValidtionRewardPurchasesScreen($event , 24)"
                                            [(ngModel)]="membershipEarningRule.MemberEarnedPoints"
                                            [disabled]="!isMembershipSelected">
                                    </div>
                                    <div class="col p-0"></div>
                                    <div class="col p-0"></div>
                                    <div class="border-verticle border-none"></div>
                                    <div class="col p-0"></div>
                                    <div class="col px-0 text-right">
                                        <button class="wellyx-button blue-button font-weight-medium mb-0"
                                            (click)="addExceptionDialog(membershipEarningRule.ItemTypeID)"
                                            [disabled]="!isMembershipSelected">Add Exception</button>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4 col-md-4">
                                    <div class="checkbox checkbox-success ml-lg-5 mt-lg-0 mt-3">
                                        <input type="checkbox" name="adhocPayment" id="adhocPayment"
                                            class="ng-untouched ng-pristine ng-valid"
                                            [(ngModel)]="rewardProgram.IsAhdhocMembershipPayment"
                                            [disabled]="!isMembershipSelected">
                                        <label for="adhocPayment" class="blue-bold-cont">Ad-hoc Payments</label>
                                        <p class="short-info ml-4">All ad-hoc membership payments will be added to this reward
                                            program.
                                            The earning criteria defined for memberships will automatically be applied to ad-hoc
                                            payments too.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </mat-step>

    <!-- Activites Stepper -->
    <mat-step>
        <ng-template matStepLabel>Reward Activities</ng-template>
        <div class="row" *ngIf="RewardProgramActivitesForm.invalid">
            <div class="col-md-12 col-sm-12">
                <div class="alert alert-danger">
                    {{messages.Validation.Info_Required}}
                </div>
            </div>
        </div>
        <form #RewardProgramActivitesForm="ngForm" novalidate>
        <div class="search-filter-block mb-3 px-0">
            <div class="row align-items-center description-content">
                <div class="col-md-12">
                    <h2>Reward Activities</h2>
                    <p>Add variety to your reward program by allowing customers to earn points through different
                        activities.</p>
                </div>
                <div class="col-md-12">
                    <div class="border-space"></div>
                </div>
            </div>

        <div class="overflow-auto">
          <div class="grid-scroll-lg cst-scroll-bar">
            <div class="row align-items-center description-content">
                <div class="col-2 col-xl-6 col-lg-5">
                    <div class="checkbox checkbox-success mt-0">
                        <input type="checkbox" name="customer_birthday" id="customer_birthday"
                            [(ngModel)]="isCustomerBirthdaySelected" (change)="onCustomerBirthdaySelect()"
                            class="ng-untouched ng-pristine ng-valid">
                        <label for="customer_birthday"> Customer Birthday </label>
                    </div>
                </div>
                <div class="col col-xl-6 col-lg-7 row align-items-center pl-0 reward-points-block">
                    <div class="col p-0">
                        <h5 class="field-label">Member Earned Points</h5>
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}" [required]="isCustomerBirthdaySelected"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl
                            min="0" maxlength="6" name="customerBirthdayActivityRule.MemberEarnedPoints"
                            [(ngModel)]="customerBirthdayActivityRule.MemberEarnedPoints"
                            [disabled]="!isCustomerBirthdaySelected">
                    </div>
                    <div class="col p-0">
                        <h5 class="field-label">Client Earned Points</h5>
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}" [required]="isCustomerBirthdaySelected"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl
                            min="0" maxlength="6" name="customerBirthdayActivityRule.ClientEarnedPoints"
                            [(ngModel)]="customerBirthdayActivityRule.ClientEarnedPoints"
                            [disabled]="!isCustomerBirthdaySelected">
                    </div>
                    <div class="col p-0">
                        <h5 class="field-label">Lead Earned Points</h5>
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}" [required]="isCustomerBirthdaySelected"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl
                            min="0" maxlength="5" name="customerBirthdayActivityRule.LeadEarnedPoints"
                            [(ngModel)]="customerBirthdayActivityRule.LeadEarnedPoints"
                            [disabled]="!isCustomerBirthdaySelected">
                    </div>
                    <div class="col p-0"></div>
                </div>
                <div class="col-md-12">
                    <div class="border-space"></div>
                </div>
            </div>
            <div class="row align-items-center description-content">
                <div class="col-2 col-xl-6 col-lg-5">
                    <div class="checkbox checkbox-success mt-0">
                        <input tabindex="20" type="checkbox" name="rewardprogramoptin" id="rewardprogramoptin"
                            [(ngModel)]="isRewardProgramOptinSelected" (change)="onRewardProgramOptinSelect()"
                            class="ng-untouched ng-pristine ng-valid">
                        <label for="rewardprogramoptin"> Reward Program Opt-In </label>
                    </div>
                </div>
                <div class="col col-xl-6 col-lg-7 row align-items-center pl-0 reward-points-block">
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isRewardProgramOptinSelected"
                            min="0" maxlength="6" name="rewardprogramoptinActivityRule.MemberEarnedPoints "
                            [(ngModel)]="rewardprogramoptinActivityRule.MemberEarnedPoints"
                            [disabled]="!isRewardProgramOptinSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isRewardProgramOptinSelected"
                            min="0" maxlength="6" name="rewardprogramoptinActivityRule.ClientEarnedPoints"
                            [(ngModel)]="rewardprogramoptinActivityRule.ClientEarnedPoints"
                            [disabled]="!isRewardProgramOptinSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isRewardProgramOptinSelected"
                            min="0" maxlength="6" name="rewardprogramoptinActivityRule.LeadEarnedPoints"
                            [(ngModel)]="rewardprogramoptinActivityRule.LeadEarnedPoints"
                            [disabled]="!isRewardProgramOptinSelected">
                    </div>
                    <div class="col p-0"></div>
                </div>
                <div class="col-md-12">
                    <div class="border-space"></div>
                </div>
            </div>
            <div class="row align-items-center description-content">
                <div class="col-2 col-xl-6 col-lg-5">
                    <div class="checkbox checkbox-success mt-0">
                        <input type="checkbox" name="WidgedAppBookings" id="WidgedAppBookings"
                            [(ngModel)]="isWidgetAndAppBookingSelected" (change)="onWidgetAndAppSelect()"
                            class="ng-untouched ng-pristine ng-valid">
                        <label for="WidgedAppBookings"> Widget & App Bookings </label>
                    </div>
                </div>
                <div class="col col-xl-6 col-lg-7 row align-items-center pl-0 reward-points-block">
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isWidgetAndAppBookingSelected"
                            min="0" maxlength="6" name="widgetAndAppBookingActivityRule.MemberEarnedPoints"
                            [(ngModel)]="widgetAndAppBookingActivityRule.MemberEarnedPoints"
                            [disabled]="!isWidgetAndAppBookingSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isWidgetAndAppBookingSelected"
                            min="0" maxlength="6" name="widgetAndAppBookingActivityRule.ClientEarnedPoints"
                            [(ngModel)]="widgetAndAppBookingActivityRule.ClientEarnedPoints"
                            [disabled]="!isWidgetAndAppBookingSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isWidgetAndAppBookingSelected"
                            min="0" maxlength="6" name="widgetAndAppBookingActivityRule.LeadEarnedPoints"
                            [(ngModel)]="widgetAndAppBookingActivityRule.LeadEarnedPoints"
                            [disabled]="!isWidgetAndAppBookingSelected">
                    </div>
                    <div class="col p-0"></div>
                </div>
                <div class="col-md-12">
                    <div class="border-space"></div>
                </div>
            </div>
            <div class="row align-items-center description-content">
                <div class="col-2 col-xl-6 col-lg-5">
                    <div class="checkbox checkbox-success mt-0">
                        <input tabindex="20" type="checkbox" name="Referrals" id="Referrals"
                            [(ngModel)]="isReferalSelected" class="ng-untouched ng-pristine ng-valid"
                            (change)="onReferalSelect()">
                        <label for="Referrals"> Referrals </label>
                    </div>
                </div>
                <div class="col col-xl-6 col-lg-7 row align-items-center pl-0 reward-points-block">
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isReferalSelected"
                            min="0" maxlength="6" name="referalActivityRule.MemberEarnedPoints"
                            [(ngModel)]="referalActivityRule.MemberEarnedPoints" [disabled]="!isReferalSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isReferalSelected"
                            min="0" maxlength="6" name="referalActivityRule.ClientEarnedPoints"
                            [(ngModel)]="referalActivityRule.ClientEarnedPoints" [disabled]="!isReferalSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isReferalSelected"
                            min="0" maxlength="6" name="referalActivityRule.LeadEarnedPoints"
                            [(ngModel)]="referalActivityRule.LeadEarnedPoints" [disabled]="!isReferalSelected">
                    </div>
                    <div class="col p-0"></div>
                </div>
                <div class="col-md-12">
                    <div class="border-space"></div>
                </div>
            </div>
            <div class="row align-items-center description-content">
                <div class="col-2 col-xl-6 col-lg-5">
                    <div class="checkbox checkbox-success mt-0">
                        <input type="checkbox" name="NewCustomers" id="NewCustomers" [(ngModel)]="isNewCustomerSelected"
                            (change)="onNewCustomerSelect()" class="ng-untouched ng-pristine ng-valid">
                        <label for="NewCustomers"> New Customers </label>
                    </div>
                </div>
                <div class="col col-xl-6 col-lg-7 row align-items-center pl-0 reward-points-block">
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isNewCustomerSelected"
                            min="0" maxlength="6" name="customerActivityRule.MemberEarnedPoints"
                            [(ngModel)]="customerActivityRule.MemberEarnedPoints" [disabled]="!isNewCustomerSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isNewCustomerSelected"
                            min="0" maxlength="6" name="customerActivityRule.ClientEarnedPoints"
                            [(ngModel)]="customerActivityRule.ClientEarnedPoints" [disabled]="!isNewCustomerSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isNewCustomerSelected"
                            min="0" maxlength="6" name="customerActivityRule.LeadEarnedPoints"
                            [(ngModel)]="customerActivityRule.LeadEarnedPoints" [disabled]="!isNewCustomerSelected">
                    </div>
                    <div class="col p-0"></div>
                </div>
                <div class="col-md-12">
                    <div class="border-space"></div>
                </div>
            </div>
            <div class="row align-items-center description-content">
                <div class="col-2 col-xl-6 col-lg-5">
                    <div class="checkbox checkbox-success mt-0">
                        <input tabindex="20" type="checkbox" name="MemberCheckIn" id="MemberCheckIn"
                            [(ngModel)]="isMembershipCheckinSelected" (change)="onMembershipCheckinSelect()"
                            class="ng-untouched ng-pristine ng-valid">
                        <label for="MemberCheckIn"> Member Check-In </label>
                    </div>
                </div>
                <div class="col col-xl-6 col-lg-7 row align-items-center pl-0 reward-points-block">
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}" [required]="isMembershipCheckinSelected"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"
                            name="memberCheckinActivityRule.MemberEarnedPoints" min="0" maxlength="6"
                            [disabled]="!isMembershipCheckinSelected"
                            [(ngModel)]="memberCheckinActivityRule.MemberEarnedPoints">
                    </div>
                    <div class="col p-0"></div>
                    <div class="col p-0"></div>
                    <div class="col p-0"></div>

                </div>
                <div class="col-md-12">
                    <div class="border-space"></div>
                </div>
            </div>
            <div class="row align-items-center description-content">
                <div class="col-2 col-xl-6 col-lg-5">
                    <div class="checkbox checkbox-success mt-0">
                        <input tabindex="20" type="checkbox" name="ClassPresent" id="ClassPresent"
                            [(ngModel)]="isClassPresentSelected" (change)="onClassPresentSelect()"
                            class="ng-untouched ng-pristine ng-valid">
                        <label for="ClassPresent"> Class - Present </label>
                    </div>
                </div>
                <div class="col col-xl-6 col-lg-7 row align-items-center pl-0 reward-points-block">
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isClassPresentSelected"
                            min="0" maxlength="6" name="classPresentActivityRule.MemberEarnedPoints"
                            [(ngModel)]="classPresentActivityRule.MemberEarnedPoints"
                            [disabled]="!isClassPresentSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isClassPresentSelected"
                            min="0" maxlength="6" name="classPresentActivityRule.ClientEarnedPoints"
                            [(ngModel)]="classPresentActivityRule.ClientEarnedPoints"
                            [disabled]="!isClassPresentSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isClassPresentSelected"
                            min="0" maxlength="6" name="classPresentActivityRule.LeadEarnedPoints"
                            [(ngModel)]="classPresentActivityRule.LeadEarnedPoints"
                            [disabled]="!isClassPresentSelected">
                    </div>
                    <div class="col p-0"></div>
                </div>
                <div class="col-md-12">
                    <div class="border-space"></div>
                </div>
            </div>
            <div class="row align-items-center description-content">
                <div class="col-2 col-xl-6 col-lg-5">
                    <div class="checkbox checkbox-success mt-0">
                        <input tabindex="20" type="checkbox" name="ServiceCompleted" id="ServiceCompleted"
                            [(ngModel)]="isServiceCompleteSelected" (change)="onServiceCompletedSelect()"
                            class="ng-untouched ng-pristine ng-valid">
                        <label for="ServiceCompleted"> Service - Completed</label>
                    </div>
                </div>
                <div class="col col-xl-6 col-lg-7 row align-items-center pl-0 reward-points-block">
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isServiceCompleteSelected"
                            min="0" maxlength="6" name="serviceCompletedActivityRule.MemberEarnedPoints"
                            [(ngModel)]="serviceCompletedActivityRule.MemberEarnedPoints"
                            [disabled]="!isServiceCompleteSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isServiceCompleteSelected"
                            min="0" maxlength="6" name="serviceCompletedActivityRule.ClientEarnedPoints"
                            [(ngModel)]="serviceCompletedActivityRule.ClientEarnedPoints"
                            [disabled]="!isServiceCompleteSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isServiceCompleteSelected"
                            min="0" maxlength="6" name="serviceCompletedActivityRule.LeadEarnedPoints "
                            [(ngModel)]="serviceCompletedActivityRule.LeadEarnedPoints"
                            [disabled]="!isServiceCompleteSelected">
                    </div>
                    <div class="col p-0"></div>
                </div>
                <div class="col-md-12">
                    <div class="border-space"></div>
                </div>
            </div>
            <div class="row align-items-center description-content">
                <div class="col-2 col-xl-6 col-lg-5">
                    <div class="checkbox checkbox-success mt-0">
                        <input tabindex="20" type="checkbox" name="Forms" id="Forms"
                            class="ng-untouched ng-pristine ng-valid" [(ngModel)]="isFormSelected"
                            (change)="onFormSelect()">
                        <label for="Forms"> Forms <span *ngIf="formsExceptionCount?.length > 0" class="optional">|
                                Exceptions ({{formsExceptionCount.length}} Form(s))</span> </label>
                    </div>
                </div>
                <div class="col col-xl-6 col-lg-7 row align-items-center pl-0 reward-points-block">
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isFormSelected"
                            min="0" maxlength="6" name="formsActivityRule.MemberEarnedPoints"
                            [(ngModel)]="formsActivityRule.MemberEarnedPoints" [disabled]="!isFormSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isFormSelected"
                            min="0" maxlength="6" name="formsActivityRule.ClientEarnedPoints"
                            [(ngModel)]="formsActivityRule.ClientEarnedPoints" [disabled]="!isFormSelected">
                    </div>
                    <div class="col p-0">
                        <input type="text" class="form-control" onkeydown="if(event.key==='.'){event.preventDefault();}"
                            oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" numberControl [required]="isFormSelected"
                            min="0" maxlength="6" name="formsActivityRule.LeadEarnedPoints"
                            [(ngModel)]="formsActivityRule.LeadEarnedPoints" [disabled]="!isFormSelected">
                    </div>
                    <div class="col p-0 text-center">
                        <button class="wellyx-button blue-button font-weight-medium mb-0" (click)="openFormException()" [disabled]="!isFormSelected">Add
                            Exception</button>
                    </div>
                </div>

            </div>
          </div>
        </div>
        </div>
    </form>


    </mat-step>
</mat-horizontal-stepper>
